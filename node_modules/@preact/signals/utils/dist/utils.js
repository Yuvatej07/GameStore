var r=require("@preact/signals-core"),n=require("@preact/signals"),e=require("preact"),t=require("preact/hooks"),u=function(r){return"function"==typeof r.children?r.children(r.v,r.i):r.children};u.displayName="Item";function i(r){var n="function"==typeof r.when?r.when():r.when.value;if(!n)return r.fallback||null;else return e.createElement(u,{v:n,children:r.children})}i.displayName="Show";function o(n){var i=t.useMemo(function(){return new Map},[]),o="function"==typeof n.each?n.each():n.each,c=o instanceof r.Signal?o.value:o;if(!c.length)return n.fallback||null;var f=new Set(i.keys()),a=c.map(function(r,t){f.delete(r);if(!i.has(r)){var o=e.createElement(u,{v:r,i:t,children:n.children});i.set(r,o);return o}return i.get(r)});f.forEach(function(r){i.delete(r)});return e.createElement(e.Fragment,null,a)}o.displayName="For";var c={configurable:!0,get:function(){return this.value},set:function(r){this.value=r}};exports.For=o;exports.Show=i;exports.useLiveSignal=function(r){var e=n.useSignal(r);if(e.peek()!==r)e.value=r;return e};exports.useSignalRef=function(r){var e=n.useSignal(r);if(!("current"in e))Object.defineProperty(e,"current",c);return e};//# sourceMappingURL=utils.js.map
