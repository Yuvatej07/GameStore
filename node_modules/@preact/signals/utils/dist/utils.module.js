import{Signal as n}from"@preact/signals-core";import{useSignal}from"@preact/signals";import{createElement as r,Fragment as t}from"preact";import{useMemo as e}from"preact/hooks";var i=function(n){return"function"==typeof n.children?n.children(n.v,n.i):n.children};i.displayName="Item";function o(n){var t="function"==typeof n.when?n.when():n.when.value;if(!t)return n.fallback||null;else return r(i,{v:t,children:n.children})}o.displayName="Show";function u(o){var u=e(function(){return new Map},[]),f="function"==typeof o.each?o.each():o.each,c=f instanceof n?f.value:f;if(!c.length)return o.fallback||null;var a=new Set(u.keys()),p=c.map(function(n,t){a.delete(n);if(!u.has(n)){var e=r(i,{v:n,i:t,children:o.children});u.set(n,e);return e}return u.get(n)});a.forEach(function(n){u.delete(n)});return r(t,null,p)}u.displayName="For";function f(n){var r=useSignal(n);if(r.peek()!==n)r.value=n;return r}function c(n){var r=useSignal(n);if(!("current"in r))Object.defineProperty(r,"current",a);return r}var a={configurable:!0,get:function(){return this.value},set:function(n){this.value=n}};export{u as For,o as Show,f as useLiveSignal,c as useSignalRef};//# sourceMappingURL=utils.module.js.map
